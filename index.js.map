{"version":3,"file":"index.js","sources":["../src/html-gererators/filter-html-generator.ts","../src/models/filter-tem.ts","../src/models/filter-response.ts","../src/services/api-config.ts","../src/services/filter-service.ts","../src/js/init-filter.ts","../src/main.ts"],"sourcesContent":["import { FilterItem } from \"../models/filter-tem\";\n\nexport class FilterHtmlGenerator {\n\n    public static generateFiltersHtml(items: FilterItem[]) {\n        return items.map(item => `\n          <div class=\"filter-card\">\n            <img src=\"${item.imgUrl}\" alt=\"${item.name}\" />\n            <div class=\"filter-info\">\n              <div class=\"filter-name\">${item.name}</div>\n              <div class=\"filter-type\">${item.filter}</div>\n            </div>\n          </div>\n        `)\n            .join('');\n    }\n}","export class FilterItem {\n    constructor(\n        public name: string,\n        public filter: string,\n        public imgUrl: string\n    ) { }\n\n    static fromJson(json: any): FilterItem {\n        return new FilterItem(json.name, json.filter, json.imgURL);\n    }\n}","import { FilterItem } from \"./filter-tem\";\n\nexport class FilterResponse {\n    constructor(\n        public page: number,\n        public perPage: number,\n        public totalPages: number,\n        public results: FilterItem[]\n    ) { }\n\n    static fromJson(json: any): FilterResponse {\n        const items = json.results.map((item: any) => FilterItem.fromJson(item));\n        return new FilterResponse(json.page, json.perPage, json.totalPages, items);\n    }\n}\n","\nexport class ApiConfig {\n    public static ApiBaseUrl = 'https://your-energy.b.goit.study/api';\n}\n","import { FilterResponse } from \"../models/filter-response\";\nimport { ApiConfig } from \"./api-config\";\n\nexport class FilterService {\n\n    static async getFilters(\n        filter: string,\n        page: number,\n        limit: number\n    ): Promise<FilterResponse> {\n        const url = `${ApiConfig.ApiBaseUrl}/filters?filter=${encodeURIComponent(filter)}&page=${page}&limit=${limit}`;\n\n        const response = await fetch(url);\n\n        if (!response.ok) {\n            throw new Error(`Failed to fetch filters: ${response.status}`);\n        }\n\n        const data = await response.json();\n        return FilterResponse.fromJson(data);\n    }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { FilterHtmlGenerator } from '../html-gererators/filter-html-generator';\nimport { FilterService } from '../services/filter-service';\n\nexport function initFilters() {\n\n    const filtersOutputContainer = document.querySelector('.filters-output');\n    const tabsContainer = document.querySelector('.filter-tabs');\n\n    if (!filtersOutputContainer) throw new Error(\"Can't find .filters-output\");\n    if (!tabsContainer) throw new Error(\"Can't find .filter-tabs\");\n\n    let currentFilter = (tabsContainer.querySelector('.active') as HTMLElement)?.dataset.filter || 'Muscles';\n    let currentPage = 1;\n\n    function loadFilters(filterType: string, page: number) {\n        const limit = 12;\n\n        FilterService.getFilters(filterType, page, limit)\n            .then(response => {\n                const html = FilterHtmlGenerator.generateFiltersHtml(response.results);\n                filtersOutputContainer.innerHTML = html;\n            })\n            .catch(error => {\n                iziToast.error({\n                    title: 'Error',\n                    message: error.message,\n                    position: 'topRight',\n                    timeout: 5000\n                });\n            });\n    }\n\n    tabsContainer.addEventListener('click', (event) => {\n        const target = event.target as HTMLElement;\n\n        if (target.tagName.toLowerCase() !== 'li') return;\n\n        const newFilter = target.dataset.filter;\n        if (!newFilter || newFilter === currentFilter) return;\n\n        tabsContainer.querySelectorAll('li').forEach(t => t.classList.remove('active'));\n        target.classList.add('active');\n\n        currentFilter = newFilter;\n        currentPage = 1;\n\n        loadFilters(currentFilter, currentPage);\n    });\n\n    loadFilters(currentFilter, currentPage);\n}","import { initFilters } from \"./js/init-filter\";\n\ninitFilters();"],"names":["FilterHtmlGenerator","items","item","FilterItem","name","filter","imgUrl","json","FilterResponse","page","perPage","totalPages","results","_ApiConfig","ApiConfig","FilterService","limit","url","response","data","initFilters","filtersOutputContainer","tabsContainer","currentFilter","_a","currentPage","loadFilters","filterType","html","error","iziToast","event","target","newFilter","t"],"mappings":"0xBAEO,MAAMA,CAAoB,CAE7B,OAAc,oBAAoBC,EAAqB,CAC5C,OAAAA,EAAM,IAAYC,GAAA;AAAA;AAAA,wBAETA,EAAK,MAAM,UAAUA,EAAK,IAAI;AAAA;AAAA,yCAEbA,EAAK,IAAI;AAAA,yCACTA,EAAK,MAAM;AAAA;AAAA;AAAA,SAG3C,EACI,KAAK,EAAE,CAAA,CAEpB,CChBO,MAAMC,CAAW,CACpB,YACWC,EACAC,EACAC,EACT,CAHS,KAAA,KAAAF,EACA,KAAA,OAAAC,EACA,KAAA,OAAAC,CAAA,CAGX,OAAO,SAASC,EAAuB,CACnC,OAAO,IAAIJ,EAAWI,EAAK,KAAMA,EAAK,OAAQA,EAAK,MAAM,CAAA,CAEjE,CCRO,MAAMC,CAAe,CACxB,YACWC,EACAC,EACAC,EACAC,EACT,CAJS,KAAA,KAAAH,EACA,KAAA,QAAAC,EACA,KAAA,WAAAC,EACA,KAAA,QAAAC,CAAA,CAGX,OAAO,SAASL,EAA2B,CACjC,MAAAN,EAAQM,EAAK,QAAQ,IAAKL,GAAcC,EAAW,SAASD,CAAI,CAAC,EAChE,OAAA,IAAIM,EAAeD,EAAK,KAAMA,EAAK,QAASA,EAAK,WAAYN,CAAK,CAAA,CAEjF,CCbO,MAAMY,EAAN,MAAMA,CAAU,CAEvB,EADIA,EAAc,WAAa,uCADxB,IAAMC,EAAND,ECEA,MAAME,CAAc,CAEvB,aAAa,WACTV,EACAI,EACAO,EACuB,CACjB,MAAAC,EAAM,GAAGH,EAAU,UAAU,mBAAmB,mBAAmBT,CAAM,CAAC,SAASI,CAAI,UAAUO,CAAK,GAEtGE,EAAW,MAAM,MAAMD,CAAG,EAE5B,GAAA,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,4BAA4BA,EAAS,MAAM,EAAE,EAG3D,MAAAC,EAAO,MAAMD,EAAS,KAAK,EAC1B,OAAAV,EAAe,SAASW,CAAI,CAAA,CAE3C,CCfO,SAASC,GAAc,OAEpB,MAAAC,EAAyB,SAAS,cAAc,iBAAiB,EACjEC,EAAgB,SAAS,cAAc,cAAc,EAE3D,GAAI,CAACD,EAA8B,MAAA,IAAI,MAAM,4BAA4B,EACzE,GAAI,CAACC,EAAqB,MAAA,IAAI,MAAM,yBAAyB,EAE7D,IAAIC,IAAiBC,EAAAF,EAAc,cAAc,SAAS,IAArC,YAAAE,EAAwD,QAAQ,SAAU,UAC3FC,EAAc,EAET,SAAAC,EAAYC,EAAoBlB,EAAc,CAGnDM,EAAc,WAAWY,EAAYlB,EAAM,EAAK,EAC3C,KAAiBS,GAAA,CACd,MAAMU,EAAO5B,EAAoB,oBAAoBkB,EAAS,OAAO,EACrEG,EAAuB,UAAYO,CAAA,CACtC,EACA,MAAeC,GAAA,CACZC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EAAM,QACf,SAAU,WACV,QAAS,GAAA,CACZ,CAAA,CACJ,CAAA,CAGKP,EAAA,iBAAiB,QAAUS,GAAU,CAC/C,MAAMC,EAASD,EAAM,OAErB,GAAIC,EAAO,QAAQ,YAAY,IAAM,KAAM,OAErC,MAAAC,EAAYD,EAAO,QAAQ,OAC7B,CAACC,GAAaA,IAAcV,IAElBD,EAAA,iBAAiB,IAAI,EAAE,WAAaY,EAAE,UAAU,OAAO,QAAQ,CAAC,EACvEF,EAAA,UAAU,IAAI,QAAQ,EAEbT,EAAAU,EACFR,EAAA,EAEdC,EAAYH,EAAeE,CAAW,EAAA,CACzC,EAEDC,EAAYH,EAAeE,CAAW,CAC1C,CCnDAL,EAAY"}