{"version":3,"file":"index.js","sources":["../src/js/constants/general.ts","../src/js/utils/toasts.ts","../src/js/services/request.ts","../src/services/filter-service.ts","../src/html-gererators/filter-html-generator.ts","../src/js/init-filter.ts","../src/services/quote-service.ts","../src/js/quote.ts","../src/main.ts"],"sourcesContent":["export const YOUR_ENERGY_API_URL = 'https://your-energy.b.goit.study/api/';","import iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const showErrorMessage = (\n  {\n    title,\n    message,\n    position,\n    ...otherOptions\n  } = {\n    title: 'Error',\n    message: 'Something went wrong. Please try again later.',\n    position: 'topRight'\n  }) => {\n  iziToast.error({\n    title: title,\n    message: message,\n    position: position,\n    ...otherOptions\n  });\n}","import axios from \"axios\";\nimport {YOUR_ENERGY_API_URL} from \"../constants/general\";\nimport {showErrorMessage} from \"../utils/toasts\";\n// TODO: Example of request. Remove when go live.\n// import {ExercisesRequest, ExercisesResponse, FilterRequest, FilterResponse} from \"../types/api-types\";\n\n/**\n * Makes an asynchronous HTTP GET request to the specified API endpoint and retrieves data.\n *\n * @template T - The type of the requestData parameter.\n * @template K - The type of the data expected in the response.\n *\n * @param {string} endpoint - The API endpoint to which the GET request is sent.\n * @param {Partial<T>} requestData - An object containing query parameters for the GET request.\n *\n * @returns {Promise<K>} A promise that resolves to the data retrieved from the API response.\n */\nexport const makeGetRequest = async <T, K>(endpoint: string, requestData?: Partial<T>): Promise<K | undefined> => {\n  try {\n    const { data } = await axios.get<K>(`${YOUR_ENERGY_API_URL}${endpoint}`, {\n      params: requestData\n    });\n\n    return data;\n  } catch (e) {\n    console.error(e);\n    showErrorMessage();\n  }\n}\n\n/**\n * Sends an asynchronous POST request to a specified API endpoint with the provided request data,\n * and returns the response data.\n *\n * @template T The type of the request data to be sent in the POST request.\n * @template K The type of the response data expected from the POST request.\n *\n * @param {string} endpoint The API endpoint to which the POST request will be sent.\n * @param {T} requestData The data to be sent in the body of the POST request.\n *\n * @returns {Promise<K>} A promise that resolves to the response data from the server.\n */\nexport const makePostRequest = async <T, K>(endpoint: string, requestData: T): Promise<K | undefined> => {\n  try {\n    const { data } = await axios.post<K>(`${YOUR_ENERGY_API_URL}${endpoint}`, requestData);\n\n    return data;\n  } catch (e) {\n    console.error(e);\n    showErrorMessage();\n  }\n}\n\n/**\n * Sends an asynchronous HTTP PATCH request to the specified API endpoint.\n *\n * @template T The type of the request payload.\n * @template K The expected type of the response data.\n *\n * @param {string} endpoint - The API endpoint to which the PATCH request will be sent, appended to the base URL.\n * @param {T} requestData - The payload to be sent with the PATCH request.\n * @returns {Promise<K>} A promise that resolves to the response data of type K.\n *\n * @throws {Error} Throws an error if the HTTP request fails or if there is an issue with the response.\n */\nexport const makePatchRequest = async <T, K>(endpoint: string, requestData: T): Promise<K | undefined> => {\n  try {\n    const { data } = await axios.patch<K>(`${YOUR_ENERGY_API_URL}${endpoint}`, requestData);\n\n    return data;\n  } catch (e) {\n    console.error(e);\n    showErrorMessage();\n  }\n}\n\n// TODO: Example of request. Remove when go live.\n// makeGetRequest<ExercisesRequest, ExercisesResponse>('exercises', {\n//   bodypart: 'back',\n//   muscles: 'abductors',\n//   equipment: 'band',\n//   keyword: 'back',\n//   page: 1,\n//   limit: 10,\n// }).then(data => console.log('Exercises', data));\n//\n// makeGetRequest<FilterRequest, FilterResponse>('exercises', {\n//   filter: 'Body parts',\n//   page: 1,\n//   limit: 12,\n// }).then(data => console.log('Filters', data));","import { makeGetRequest } from \"../js/services/request\";\nimport { FilterRequest } from \"../js/types/request.types\";\nimport { FiltersResponse } from \"../js/types/response.types\";\n\nexport async function getFilters(filterRequest: FilterRequest): Promise<FiltersResponse> {\n    const response = await makeGetRequest<FilterRequest, FiltersResponse>(\"filters\", filterRequest);\n    if (!response) {\n        throw new Error(\"Cant' get filters\");\n    }\n    return response;\n}","import { FilterResponse } from \"../js/types/response.types\";\n\nexport function generateFiltersHtml(items: FilterResponse[]) {\n  return items.map(item => `\n          <div class=\"filter-card\">\n            <img src=\"${item.imgURL}\" alt=\"${item.name}\" />\n            <div class=\"filter-info\">\n              <div class=\"filter-name\">${item.name}</div>\n              <div class=\"filter-type\">${item.filter}</div>\n            </div>\n          </div>\n        `)\n    .join('');\n}\n\nexport function generatePaginationHtml(totalPages: number, currentPage: number): string {\n  const pagesToShow: number[] = [];\n\n  const maxVisible = 3;\n  let startPage = Math.max(1, currentPage - 1);\n  let endPage = Math.min(totalPages, startPage + maxVisible - 1);\n\n  if (endPage - startPage + 1 < maxVisible) {\n    startPage = Math.max(1, endPage - maxVisible + 1);\n  }\n\n  for (let page = startPage; page <= endPage; page++) {\n    pagesToShow.push(page);\n  }\n\n  return pagesToShow.map(page => `\n    <span class=\"pagination-page${page === currentPage ? ' active' : ''}\" data-page=\"${page}\">${page}</span>\n  `).join('');\n}\n","import { getFilters } from '../services/filter-service';\nimport { generateFiltersHtml, generatePaginationHtml } from '../html-gererators/filter-html-generator';\nimport { showErrorMessage } from './utils/toasts';\nimport { FilterType } from './types/general.types';\n\nexport function initFilters() {\n    const filtersOutputContainer = document.querySelector('.filters-output');\n    const tabsContainer = document.querySelector('.filter-tabs');\n    const paginationContainer = document.querySelector('.filter-pagination');\n\n    if (!filtersOutputContainer) throw new Error(\"Can't find .filters-output\");\n    if (!tabsContainer) throw new Error(\"Can't find .filter-tabs\");\n    if (!paginationContainer) throw new Error(\"Can't find .filter-pagination\");\n\n    let currentFilter = (tabsContainer.querySelector('.active') as HTMLElement)?.dataset.filter as FilterType;\n    let currentPage = 1;\n\n    function loadFilters(filter: FilterType, page: number) {\n        const limit = 12;\n\n        getFilters({ filter, page, limit })\n            .then(response => {\n                filtersOutputContainer!.innerHTML = generateFiltersHtml(response.results);\n                paginationContainer!.innerHTML = generatePaginationHtml(response.totalPages, page);\n            })\n            .catch(error => showErrorMessage({\n                title: 'Error',\n                message: error.message,\n                position: 'topRight',\n            }));\n    }\n\n    tabsContainer.addEventListener('click', (event) => {\n        const target = event.target as HTMLElement;\n\n        if (target.tagName.toLowerCase() !== 'li') return;\n\n        const newFilter = target.dataset.filter as FilterType;\n        if (!newFilter || newFilter === currentFilter) return;\n\n        tabsContainer.querySelectorAll('li').forEach(t => t.classList.remove('active'));\n        target.classList.add('active');\n\n        currentFilter = newFilter;\n        currentPage = 1;\n\n        loadFilters(currentFilter, currentPage);\n    });\n\n    paginationContainer.addEventListener('click', (event) => {\n        const target = event.target as HTMLElement;\n        if (target.tagName.toLowerCase() !== 'span') return;\n\n        const newPage = Number(target.dataset.page);\n        if (!newPage || newPage === currentPage) return;\n\n        currentPage = newPage;\n        loadFilters(currentFilter, currentPage);\n    });\n\n    loadFilters(currentFilter, currentPage);\n}","import { makeGetRequest } from \"../js/services/request\";\nimport { QuoteResponse } from \"../js/types/response.types\";\n\n\nexport async function getQuote(): Promise<QuoteResponse> {\n    const response = await makeGetRequest<QuoteResponse, void>(\"quote\");\n    if (!response) {\n        throw new Error(\"Cant' get quote\");\n    }\n    return response;\n}","import { getQuote } from \"../services/quote-service\";\nimport { QuoteResponse } from \"./types/response.types\";\n\nconst quoteTextElement = document.getElementById(\"quote-text\");\nconst quoteAuthorElement = document.getElementById(\"quote-author\");\n\nconst QUOTE_STORAGE_KEY = \"quote\";\nconst QUOTE_DATE_STORAGE_KEY = \"quoteDate\";\n\nfunction getCurrentDate(): string {\n  return new Date().toISOString().split(\"T\")[0];\n}\n\nfunction getStoredQuote(): QuoteResponse | null {\n  const storedQuote = localStorage.getItem(QUOTE_STORAGE_KEY);\n  const storedDate = localStorage.getItem(QUOTE_DATE_STORAGE_KEY);\n  const today = getCurrentDate();\n\n  if (storedQuote && storedDate === today) {\n    try {\n      return JSON.parse(storedQuote);\n    } catch (error) {\n      console.error(\"Error parsing stored quote:\", error);\n      return null;\n    }\n  }\n  return null;\n}\n\nfunction updateQuoteDisplay(quote: string, author: string): void {\n  if (!quoteTextElement || !quoteAuthorElement) {\n    throw new Error(\"Can't find quote elements\");\n  }\n  quoteTextElement.textContent = quote;\n  quoteAuthorElement.textContent = author;\n}\n\nfunction storeQuote(quote: string, author: string): void {\n  const quoteData = JSON.stringify({ quote, author });\n  const today = getCurrentDate();\n  localStorage.setItem(QUOTE_STORAGE_KEY, quoteData);\n  localStorage.setItem(QUOTE_DATE_STORAGE_KEY, today);\n}\n\nasync function fetchNewQuote(): Promise<QuoteResponse | null> {\n  try {\n    const data = await getQuote();\n    if (data && data.quote) {\n      return { quote: data.quote, author: data.author };\n    } else {\n      return null;\n    }\n  } catch (error) {\n    console.error(\"Error fetching quote:\", error);\n    return null;\n  }\n}\n\nexport async function fetchQuote(): Promise<void> {\n  if (!quoteTextElement || !quoteAuthorElement) {\n    throw new Error(\"Can't find quote elements\");\n  }\n\n  const storedQuoteData = getStoredQuote();\n  if (storedQuoteData) {\n    updateQuoteDisplay(storedQuoteData.quote, storedQuoteData.author);\n    return;\n  }\n\n  const newQuoteData = await fetchNewQuote();\n  if (newQuoteData) {\n    storeQuote(newQuoteData.quote, newQuoteData.author);\n    updateQuoteDisplay(newQuoteData.quote, newQuoteData.author);\n  } else {\n    updateQuoteDisplay(\"Failed to fetch quote.\", \"\");\n  }\n}","import { initFilters } from \"./js/init-filter\";\nimport { fetchQuote } from \"./js/quote\";\n\ninitFilters();\nfetchQuote();\n"],"names":["YOUR_ENERGY_API_URL","showErrorMessage","title","message","position","otherOptions","iziToast","makeGetRequest","endpoint","requestData","data","axios","e","getFilters","filterRequest","response","generateFiltersHtml","items","item","generatePaginationHtml","totalPages","currentPage","pagesToShow","startPage","endPage","page","initFilters","filtersOutputContainer","tabsContainer","paginationContainer","currentFilter","_a","loadFilters","filter","error","event","target","newFilter","t","newPage","getQuote","quoteTextElement","quoteAuthorElement","QUOTE_STORAGE_KEY","QUOTE_DATE_STORAGE_KEY","getCurrentDate","getStoredQuote","storedQuote","storedDate","today","updateQuoteDisplay","quote","author","storeQuote","quoteData","fetchNewQuote","fetchQuote","storedQuoteData","newQuoteData"],"mappings":"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"}