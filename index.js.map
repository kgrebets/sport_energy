{"version":3,"file":"index.js","sources":["../src/models/filter-tem.ts","../src/models/filter-response.ts","../src/services/api-config.ts","../src/services/filter-service.ts","../src/html-gererators/filter-html-generator.ts","../src/js/utils/toasts.ts","../src/js/init-filter.ts","../src/main.ts"],"sourcesContent":["export class FilterItem {\n    constructor(\n        public name: string,\n        public filter: string,\n        public imgUrl: string\n    ) { }\n\n    static fromJson(json: any): FilterItem {\n        return new FilterItem(json.name, json.filter, json.imgURL);\n    }\n}","import { FilterItem } from \"./filter-tem\";\n\nexport class FilterResponse {\n    constructor(\n        public page: number,\n        public perPage: number,\n        public totalPages: number,\n        public results: FilterItem[]\n    ) { }\n\n    static fromJson(json: any): FilterResponse {\n        const items = json.results.map((item: any) => FilterItem.fromJson(item));\n        return new FilterResponse(json.page, json.perPage, json.totalPages, items);\n    }\n}\n","\nexport class ApiConfig {\n    public static ApiBaseUrl = 'https://your-energy.b.goit.study/api';\n}\n","import { FilterRequest } from \"../js/types/request.types\";\nimport { FilterResponse } from \"../models/filter-response\";\nimport { ApiConfig } from \"./api-config\";\n\nexport async function getFilters(filterRequest: FilterRequest): Promise<FilterResponse> {\n    const url = `${ApiConfig.ApiBaseUrl}/filters?filter=${encodeURIComponent(filterRequest.filter)}&page=${filterRequest.page}&limit=${filterRequest.limit}`;\n\n    const response = await fetch(url);\n\n    if (!response.ok) {\n        throw new Error(`Failed to fetch filters: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return FilterResponse.fromJson(data);\n}","import { FilterItem } from \"../models/filter-tem\";\n\nexport function generateFiltersHtml(items: FilterItem[]) {\n  return items.map(item => `\n          <div class=\"filter-card\">\n            <img src=\"${item.imgUrl}\" alt=\"${item.name}\" />\n            <div class=\"filter-info\">\n              <div class=\"filter-name\">${item.name}</div>\n              <div class=\"filter-type\">${item.filter}</div>\n            </div>\n          </div>\n        `)\n    .join('');\n}\n\nexport function generatePaginationHtml(totalPages: number, currentPage: number): string {\n  const pagesToShow: number[] = [];\n\n  pagesToShow.push(1);\n  if (totalPages >= 2) pagesToShow.push(2);\n  if (totalPages >= 3) pagesToShow.push(3);\n\n  return pagesToShow.map(page => `\n    <span class=\"pagination-page${page === currentPage ? ' active' : ''}\" data-page=\"${page}\">${page}</span>\n  `).join('');\n}","import iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const showErrorMessage = (\n  {\n    title,\n    message,\n    position,\n    ...otherOptions\n  } = {\n    title: 'Error',\n    message: 'Something went wrong. Please try again later.',\n    position: 'topRight'\n  }) => {\n  iziToast.error({\n    title: title,\n    message: message,\n    position: position,\n    ...otherOptions\n  });\n}","import { getFilters } from '../services/filter-service';\nimport { generateFiltersHtml, generatePaginationHtml } from '../html-gererators/filter-html-generator';\nimport { showErrorMessage } from './utils/toasts';\nimport { FilterType } from './types/general.types';\n\nexport function initFilters() {\n    const filtersOutputContainer = document.querySelector('.filters-output');\n    const tabsContainer = document.querySelector('.filter-tabs');\n    const paginationContainer = document.querySelector('.filter-pagination');\n\n    if (!filtersOutputContainer) throw new Error(\"Can't find .filters-output\");\n    if (!tabsContainer) throw new Error(\"Can't find .filter-tabs\");\n    if (!paginationContainer) throw new Error(\"Can't find .filter-pagination\");\n\n    let currentFilter = (tabsContainer.querySelector('.active') as HTMLElement)?.dataset.filter as FilterType;\n    let currentPage = 1;\n\n    function loadFilters(filter: FilterType, page: number) {\n        const limit = 12;\n\n        getFilters({ filter, page, limit })\n            .then(response => {\n                filtersOutputContainer.innerHTML = generateFiltersHtml(response.results);\n                paginationContainer.innerHTML = generatePaginationHtml(response.totalPages, page);\n            })\n            .catch(error => showErrorMessage({\n                title: 'Error',\n                message: error.message,\n                position: 'topRight',\n                timeout: 5000\n            }));\n    }\n\n    tabsContainer.addEventListener('click', (event) => {\n        const target = event.target as HTMLElement;\n\n        if (target.tagName.toLowerCase() !== 'li') return;\n\n        const newFilter = target.dataset.filter as FilterType;\n        if (!newFilter || newFilter === currentFilter) return;\n\n        tabsContainer.querySelectorAll('li').forEach(t => t.classList.remove('active'));\n        target.classList.add('active');\n\n        currentFilter = newFilter;\n        currentPage = 1;\n\n        loadFilters(currentFilter, currentPage);\n    });\n\n    paginationContainer.addEventListener('click', (event) => {\n        const target = event.target as HTMLElement;\n        if (target.tagName.toLowerCase() !== 'span') return;\n\n        const newPage = Number(target.dataset.page);\n        if (!newPage || newPage === currentPage) return;\n\n        currentPage = newPage;\n        loadFilters(currentFilter, currentPage);\n    });\n\n    loadFilters(currentFilter, currentPage);\n}","import { initFilters } from \"./js/init-filter\";\n\ninitFilters();"],"names":["FilterItem","name","filter","imgUrl","json","FilterResponse","page","perPage","totalPages","results","items","item","_ApiConfig","ApiConfig","getFilters","filterRequest","url","response","data","generateFiltersHtml","generatePaginationHtml","currentPage","pagesToShow","showErrorMessage","title","message","position","otherOptions","iziToast","initFilters","filtersOutputContainer","tabsContainer","paginationContainer","currentFilter","_a","loadFilters","error","event","target","newFilter","t","newPage"],"mappings":"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"}