{"version":3,"file":"index.js","sources":["../src/html-gererators/filter-html-generator.ts","../src/models/filter-tem.ts","../src/models/filter-response.ts","../src/services/api-config.ts","../src/services/filter-service.ts","../src/main.ts"],"sourcesContent":["import { FilterItem } from \"../models/filter-tem\";\n\nexport class FilterHtmlGenerator {\n\n    public static generateFiltersHtml(items: FilterItem[]) {\n        return items.map(item => `\n          <div class=\"filter-card\">\n            <img src=\"${item.imgUrl}\" alt=\"${item.name}\" />\n            <div class=\"filter-info\">\n              <div class=\"filter-name\">${item.name}</div>\n              <div class=\"filter-type\">${item.filter}</div>\n            </div>\n          </div>\n        `)\n            .join('');\n    }\n}","export class FilterItem {\n    constructor(\n        public name: string,\n        public filter: string,\n        public imgUrl: string\n    ) { }\n\n    static fromJson(json: any): FilterItem {\n        return new FilterItem(json.name, json.filter, json.imgURL);\n    }\n}","import { FilterItem } from \"./filter-tem\";\n\nexport class FilterResponse {\n    constructor(\n        public page: number,\n        public perPage: number,\n        public totalPages: number,\n        public results: FilterItem[]\n    ) { }\n\n    static fromJson(json: any): FilterResponse {\n        const items = json.results.map((item: any) => FilterItem.fromJson(item));\n        return new FilterResponse(json.page, json.perPage, json.totalPages, items);\n    }\n}\n","\nexport class ApiConfig {\n    public static ApiBaseUrl = 'https://your-energy.b.goit.study/api';\n}\n","import { FilterResponse } from \"../models/filter-response\";\nimport { ApiConfig } from \"./api-config\";\n\nexport class FilterService {\n\n    static async getFilters(\n        filter: string,\n        page: number,\n        limit: number\n    ): Promise<FilterResponse> {\n        const url = `${ApiConfig.ApiBaseUrl}/filters?filter=${encodeURIComponent(filter)}&page=${page}&limit=${limit}`;\n\n        const response = await fetch(url);\n\n        if (!response.ok) {\n            throw new Error(`Failed to fetch filters: ${response.status}`);\n        }\n\n        const data = await response.json();\n        return FilterResponse.fromJson(data);\n    }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { FilterHtmlGenerator } from \"./html-gererators/filter-html-generator\";\nimport { FilterService } from \"./services/filter-service\";\n\n//#region Load filters\n\nconst container = document.querySelector('.filters-output');\n\nif (!container) throw new Error(\"Can't find filters-output\");\n\nfunction loadFilters(filterType: string, page: number) {\nconst limit = 12;\nFilterService.getFilters(filterType, page, limit)\n    .then(response => {\n      const html = FilterHtmlGenerator.generateFiltersHtml(response.results);\n      container.innerHTML = html;\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: error.message,\n        position: 'topRight',\n        timeout: 5000\n      });\n    });\n}\n\nconst tabs = document.querySelectorAll('.filter-tabs li');\ntabs.forEach(tab => {\n  tab.addEventListener('click', () => {\n    const newFilter = tab.dataset.filter;\n\n    if (!newFilter || newFilter === currentFilter) return;\n\n    tabs.forEach(t => t.classList.remove('active'));\n    tab.classList.add('active');\n\n    currentFilter = newFilter;\n    currentPage = 1;\n\n    loadFilters(currentFilter, currentPage);\n  });\n});\n\n\nlet currentFilter = tabs[0].dataset.filter;;\nlet currentPage = 1;\n\nloadFilters(currentFilter, currentPage);\n\n//#endregion"],"names":["FilterHtmlGenerator","items","item","FilterItem","name","filter","imgUrl","json","FilterResponse","page","perPage","totalPages","results","_ApiConfig","ApiConfig","FilterService","limit","url","response","data","container","loadFilters","filterType","html","error","iziToast","tabs","tab","newFilter","currentFilter","t","currentPage"],"mappings":"0xBAEO,MAAMA,CAAoB,CAE7B,OAAc,oBAAoBC,EAAqB,CAC5C,OAAAA,EAAM,IAAYC,GAAA;AAAA;AAAA,wBAETA,EAAK,MAAM,UAAUA,EAAK,IAAI;AAAA;AAAA,yCAEbA,EAAK,IAAI;AAAA,yCACTA,EAAK,MAAM;AAAA;AAAA;AAAA,SAG3C,EACI,KAAK,EAAE,CAAA,CAEpB,CChBO,MAAMC,CAAW,CACpB,YACWC,EACAC,EACAC,EACT,CAHS,KAAA,KAAAF,EACA,KAAA,OAAAC,EACA,KAAA,OAAAC,CAAA,CAGX,OAAO,SAASC,EAAuB,CACnC,OAAO,IAAIJ,EAAWI,EAAK,KAAMA,EAAK,OAAQA,EAAK,MAAM,CAAA,CAEjE,CCRO,MAAMC,CAAe,CACxB,YACWC,EACAC,EACAC,EACAC,EACT,CAJS,KAAA,KAAAH,EACA,KAAA,QAAAC,EACA,KAAA,WAAAC,EACA,KAAA,QAAAC,CAAA,CAGX,OAAO,SAASL,EAA2B,CACjC,MAAAN,EAAQM,EAAK,QAAQ,IAAKL,GAAcC,EAAW,SAASD,CAAI,CAAC,EAChE,OAAA,IAAIM,EAAeD,EAAK,KAAMA,EAAK,QAASA,EAAK,WAAYN,CAAK,CAAA,CAEjF,CCbO,MAAMY,EAAN,MAAMA,CAAU,CAEvB,EADIA,EAAc,WAAa,uCADxB,IAAMC,EAAND,ECEA,MAAME,CAAc,CAEvB,aAAa,WACTV,EACAI,EACAO,EACuB,CACjB,MAAAC,EAAM,GAAGH,EAAU,UAAU,mBAAmB,mBAAmBT,CAAM,CAAC,SAASI,CAAI,UAAUO,CAAK,GAEtGE,EAAW,MAAM,MAAMD,CAAG,EAE5B,GAAA,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,4BAA4BA,EAAS,MAAM,EAAE,EAG3D,MAAAC,EAAO,MAAMD,EAAS,KAAK,EAC1B,OAAAV,EAAe,SAASW,CAAI,CAAA,CAE3C,CCbA,MAAMC,EAAY,SAAS,cAAc,iBAAiB,EAE1D,GAAI,CAACA,EAAiB,MAAA,IAAI,MAAM,2BAA2B,EAE3D,SAASC,EAAYC,EAAoBb,EAAc,CAEvDM,EAAc,WAAWO,EAAYb,EAAM,EAAK,EAC3C,KAAiBS,GAAA,CAChB,MAAMK,EAAOvB,EAAoB,oBAAoBkB,EAAS,OAAO,EACrEE,EAAU,UAAYG,CAAA,CACvB,EACA,MAAeC,GAAA,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EAAM,QACf,SAAU,WACV,QAAS,GAAA,CACV,CAAA,CACF,CACL,CAEA,MAAME,EAAO,SAAS,iBAAiB,iBAAiB,EACxDA,EAAK,QAAeC,GAAA,CACdA,EAAA,iBAAiB,QAAS,IAAM,CAC5B,MAAAC,EAAYD,EAAI,QAAQ,OAE1B,CAACC,GAAaA,IAAcC,IAEhCH,EAAK,QAAaI,GAAAA,EAAE,UAAU,OAAO,QAAQ,CAAC,EAC1CH,EAAA,UAAU,IAAI,QAAQ,EAEVE,EAAAD,EACFG,EAAA,EAEdV,EAAYQ,EAAeE,CAAW,EAAA,CACvC,CACH,CAAC,EAGD,IAAIF,EAAgBH,EAAK,CAAC,EAAE,QAAQ,OAChCK,EAAc,EAElBV,EAAYQ,EAAeE,CAAW"}